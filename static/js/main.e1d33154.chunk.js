(this["webpackJsonplidemy-students-blog"]=this["webpackJsonplidemy-students-blog"]||[]).push([[0],{35:function(n,t,e){},36:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),o=e.n(c),a=e(20),i=e.n(a),u=e(4),s=e(2),j=e(5),b=e(6),l=e(3),d=Object(c.createContext)(null),f="token",h=function(n){localStorage.setItem(f,n)},O=function(){return localStorage.getItem(f)},m=O(),p="https://student-json-api.lidemy.me",x="application/json",g="createdAt",v="desc",w=function(n){return fetch("".concat(p,"/posts/").concat(n,"?_expand=user")).then((function(n){return n.json()}))},y=function(){var n=O();return fetch("".concat(p,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function k(){var n=Object(s.a)(["\n  text-align: center;\n  font-size: 1rem;\n  font-weight: bold;\n"]);return k=function(){return n},n}function S(){var n=Object(s.a)(["\n  padding: 1rem 0 2rem;\n"]);return S=function(){return n},n}var C=l.a.footer(S()),E=l.a.p(k());var z=function(){return Object(r.jsx)(C,{children:Object(r.jsx)(E,{children:"\xa9 2021 Christopher Chu"})})};function D(){var n=Object(s.a)(["\n  flex-grow: 1;\n  width: 100%;\n  max-width: 44rem;\n  margin: 0 auto 2.5rem;\n"]);return D=function(){return n},n}var B=l.a.main(D());function F(){var n=Object(s.a)(["\n  display: inline-block;\n  max-width: 10rem;\n  padding: 0 !important;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n\n  &:hover {\n    color: #8FBCBB;\n  }\n"]);return F=function(){return n},n}function A(){var n=Object(s.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n"]);return A=function(){return n},n}function P(){var n=Object(s.a)(["\n  color: #5E81AC;\n  font-size: 2rem;\n  white-space: nowrap;\n"]);return P=function(){return n},n}function I(){var n=Object(s.a)(["\n  margin: 0 0.5rem;\n  white-space: nowrap;\n\n  @media (max-width: 32em) {\n    margin-bottom: 1rem;\n  }\n\n  &:first-of-type {\n    flex-grow: 1;\n\n    @media (max-width: 32em) {\n      flex-basis: 100%;\n    }\n  }\n\n  a {\n    padding: 0.5rem;\n\n    &:hover {\n      opacity: 0.875;\n    }\n  }\n"]);return I=function(){return n},n}function T(){var n=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  margin: 0 -1rem;\n"]);return T=function(){return n},n}function _(){var n=Object(s.a)(["\n  margin: 0 auto 2.5rem;\n  padding: 2rem 0;\n  max-width: 100rem;\n  width: 100%;\n  font-size: 1.25rem;\n  font-weight: bold;\n"]);return _=function(){return n},n}var U=l.a.nav(_()),L=l.a.ul(T()),J=l.a.li(I()),N=l.a.h1(P()),M=Object(l.a)(J)(A()),V=Object(l.a)(j.c)(F());var R=function(){var n=Object(b.h)(),t=Object(b.g)(),e=Object(c.useContext)(d),o=e.user,a=e.setUser;return Object(r.jsx)(U,{children:Object(r.jsxs)(L,{children:[Object(r.jsx)(J,{children:Object(r.jsx)(N,{children:Object(r.jsx)(j.c,{to:"/",replace:!0,children:"Blog"})})}),Object(r.jsx)(J,{children:Object(r.jsx)(j.c,{to:"/articles",activeStyle:{color:"#88C0D0"},children:"Articles"})}),o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J,{children:Object(r.jsx)(j.c,{to:"/new-post",activeStyle:{color:"#88C0D0"},replace:!0,children:"New Post"})}),Object(r.jsxs)(M,{children:[Object(r.jsx)(V,{to:"/authors/".concat(o.id),replace:!0,children:o.nickname}),", ",Object(r.jsx)(j.c,{to:"/",onClick:function(){h(""),a(null),"/"!==n.pathname&&t.push("/")},replace:!0,children:"Log out"})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J,{children:Object(r.jsx)(j.c,{to:"/signup",activeStyle:{color:"#88C0D0"},replace:!0,children:"Sign Up"})}),Object(r.jsx)(J,{children:Object(r.jsx)(j.c,{to:"/login",activeStyle:{color:"#88C0D0"},replace:!0,children:"Log In"})})]})]})})};function H(){var n=Object(s.a)(["\n  background: #D8DEE9;\n  border-color: #D8DEE9;\n  color: #4C566A;\n\n  &:focus,\n  &:hover {\n    background: none;\n    color: #D8DEE9;\n  }\n"]);return H=function(){return n},n}function X(){var n=Object(s.a)(["\n  border: 1px solid;\n  border-radius: 64rem;\n  padding: 1rem 2rem;\n  font-size: 1.125rem;\n  font-weight: bold;\n  transition: all 0.4s ease;\n"]);return X=function(){return n},n}var q=l.a.button(X()),G=Object(l.a)(q)(H());function K(){var n=Object(s.a)(["\n  margin-bottom: 1rem;\n  color: #BF616A;\n"]);return K=function(){return n},n}function Q(){var n=Object(s.a)(["\n  margin: 0 auto;\n"]);return Q=function(){return n},n}function W(){var n=Object(s.a)(["\n  padding: 1rem 0;\n  text-align: center;\n"]);return W=function(){return n},n}function Y(){var n=Object(s.a)(["\n  border: 1px solid #D8DEE9;\n  border-radius: 0.5rem;\n  padding: 0.75rem 1rem;\n  width: 100%;\n  font-size: 1rem;\n  font-weight: 500;\n  letter-spacing: 1px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(s.a)(["\n  display: block;\n  margin-bottom: 0.75rem;\n  font-size: 1.25rem;\n  font-weight: 600;\n"]);return Z=function(){return n},n}function $(){var n=Object(s.a)(["\n  margin-bottom: 2.5rem;\n"]);return $=function(){return n},n}function nn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 32rem;\n  margin: 0 auto 2.5rem;\n"]);return nn=function(){return n},n}var tn=l.a.form(nn()),en=l.a.div($()),rn=l.a.label(Z()),cn=l.a.input(Y()),on=l.a.div(W()),an=Object(l.a)(G)(Q()),un=l.a.p(K());function sn(){var n=Object(s.a)([""]);return sn=function(){return n},n}function jn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 1.5rem;\n"]);return jn=function(){return n},n}function bn(){var n=Object(s.a)(["\n  appearance: none;\n  background: transparent;\n  flex-grow: 1;\n  margin-bottom: auto;\n  border: none;\n  width: 100%;\n  height: 100%;\n  font-size: 1.125rem;\n  line-height: 2;\n  resize: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return bn=function(){return n},n}function ln(){var n=Object(s.a)(["\n  margin-bottom: 2.5rem;\n  border: none;\n  padding: 0;\n  font-size: 2.5rem;\n  font-weight: bold;\n\n  &:focus {\n    outline: none;\n  }\n"]);return ln=function(){return n},n}function dn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 50rem;\n  margin: 0 auto;\n"]);return dn=function(){return n},n}function fn(){var n=Object(s.a)(["\n  flex-grow: 1;\n  margin-bottom: 2.5rem;\n"]);return fn=function(){return n},n}var hn=l.a.main(fn()),On=l.a.div(dn()),mn=l.a.input(ln()),pn=l.a.textarea(bn()),xn=l.a.div(jn()),gn=Object(l.a)(G)(sn());var vn=function(n){var t=n.title,e=n.setTitle,c=n.body,o=n.setBody,a=n.onPost,i=n.submitButtonValue;return Object(r.jsx)(hn,{children:Object(r.jsxs)(On,{children:[Object(r.jsx)(mn,{placeholder:"Title",defaultValue:t,onChange:function(n){return e(n.target.value)}}),Object(r.jsx)(pn,{placeholder:"Tell your story",defaultValue:c,onChange:function(n){return o(n.target.value)}}),Object(r.jsx)(xn,{children:Object(r.jsx)(gn,{onClick:a,children:i})})]})})};function wn(){var n=Object(s.a)(["\n  color: rgba(171, 185, 207, 0.75);\n  font-size: 1rem;\n"]);return wn=function(){return n},n}function yn(){var n=Object(s.a)(["\n  margin-bottom: 1rem;\n  color: #81A1C1;\n  font-size: 1.25rem;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n\n  a:hover {\n    text-decoration: underline;\n  }\n"]);return yn=function(){return n},n}function kn(){var n=Object(s.a)(["\n  margin-bottom: 0.5rem;\n  font-size: 1.75rem;\n  line-height: 1.5;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n\n  a:hover {\n    color: rgba(236, 239, 244, 0.75);\n  }\n"]);return kn=function(){return n},n}function Sn(){var n=Object(s.a)(["\n  margin-bottom: 3.5rem;\n"]);return Sn=function(){return n},n}var Cn=l.a.article(Sn()),En=l.a.h2(kn()),zn=l.a.h3(yn()),Dn=l.a.time(wn());var Bn=function(n){var t=n.post,e=n.author;return Object(r.jsxs)(Cn,{children:[Object(r.jsx)(En,{children:Object(r.jsx)(j.b,{to:"/posts/".concat(t.id),children:t.title})}),Object(r.jsx)(zn,{children:Object(r.jsx)(j.b,{to:"/authors/".concat(t.userId),replace:!0,children:e})}),Object(r.jsx)(Dn,{children:new Date(t.createdAt).toDateString()})]})};function Fn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid rgba(171, 185, 207, 0.75);\n  border-radius: 32rem;\n  width: 2.5rem;\n  height: 2.5rem;\n  font-weight: 500;\n\n  &:focus,\n  &:hover {\n    background-color: #4C566A;\n  }\n"]);return Fn=function(){return n},n}function An(){var n=Object(s.a)(["\n  margin: 0.25rem;\n"]);return An=function(){return n},n}function Pn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return Pn=function(){return n},n}function In(){var n=Object(s.a)([""]);return In=function(){return n},n}function Tn(){var n=Object(s.a)(["\n  margin-bottom: 4.5rem;\n"]);return Tn=function(){return n},n}var _n=l.a.section(Tn()),Un=l.a.nav(In()),Ln=l.a.ul(Pn()),Jn=l.a.li(An()),Nn=Object(l.a)(j.c)(Fn());var Mn=function(){var n=Object(b.i)().page,t=Object(c.useState)([]),e=Object(u.a)(t,2),o=e[0],a=e[1],i=Object(c.useState)(),s=Object(u.a)(i,2),j=s[0],l=s[1],d=Object(c.useState)([]),f=Object(u.a)(d,2),h=f[0],O=f[1];return Object(c.useEffect)((function(){(function(n){return fetch("".concat(p,"/posts?_expand=user&_sort=").concat(g,"&_order=").concat(v,"&_page=").concat(n,"&_limit=").concat(5))})(n).then((function(n){return l(n.headers.get("X-Total-Count")),O(Array.from({length:Math.ceil(j/5)},(function(n,t){return t+1}))),n.json()})).then((function(n){return a(n)}))}),[n,j]),Object(r.jsxs)(B,{children:[Object(r.jsx)(_n,{children:o.map((function(n){return Object(r.jsx)(Bn,{post:n,author:n.user.nickname},n.id)}))}),Object(r.jsx)(Un,{"aria-label":"pagination",children:Object(r.jsx)(Ln,{children:h.map((function(n){return Object(r.jsx)(Jn,{children:Object(r.jsx)(Nn,{to:"/articles/".concat(n),activeStyle:{background:"#ECEFF4",color:"#2E3440"},children:n})},n)}))})})]})};var Vn=function(){var n=Object(b.g)(),t=Object(b.i)().id,e=Object(c.useState)(""),o=Object(u.a)(e,2),a=o[0],i=o[1],s=Object(c.useState)(""),j=Object(u.a)(s,2),l=j[0],d=j[1];return Object(c.useEffect)((function(){w(t).then((function(n){i(n.title),d(n.body)}))}),[t]),Object(r.jsx)(vn,{title:a,setTitle:i,body:l,setBody:d,onPost:function(){a.trim()&&l.trim()&&function(n,t){return fetch("".concat(p,"/posts/").concat(n),{method:"PATCH",headers:{authorization:"Bearer ".concat(m),"content-type":x},body:JSON.stringify(t)}).then((function(n){return n.json()}))}(t,{title:a,body:l}).then((function(t){t.id&&n.push("/posts/".concat(t.id))}))},submitButtonValue:"Update"})};var Rn=function(){var n=Object(c.useState)([]),t=Object(u.a)(n,2),e=t[0],o=t[1];return Object(c.useEffect)((function(){fetch("".concat(p,"/posts?_expand=user&_sort=").concat(g,"&_order=").concat(v)).then((function(n){return n.json()})).then((function(n){return o(n)}))}),[]),Object(r.jsx)(B,{children:e.map((function(n){return Object(r.jsx)(Bn,{post:n,author:n.user.nickname},n.id)}))})};function Hn(){var n=Object(s.a)(["\n  flex-grow: 1;\n"]);return Hn=function(){return n},n}var Xn=l.a.main(Hn());var qn=function(){var n=Object(b.g)(),t=Object(c.useContext)(d).setUser,e=Object(c.useState)(""),o=Object(u.a)(e,2),a=o[0],i=o[1],s=Object(c.useState)(""),j=Object(u.a)(s,2),l=j[0],f=j[1],O=Object(c.useState)(),m=Object(u.a)(O,2),g=m[0],v=m[1];return Object(r.jsx)(Xn,{children:Object(r.jsxs)(tn,{onSubmit:function(e){e.preventDefault(),v(null),function(n){var t=n.username,e=n.password;return fetch("".concat(p,"/login"),{method:"POST",headers:{"content-type":x},body:JSON.stringify({username:t,password:e})}).then((function(n){return n.json()}))}({username:a,password:l}).then((function(e){if(1!==e.ok)return v(e.message);h(e.token),y().then((function(e){if(1!==e.ok)return h(null),v(e.toString());t(e.data),n.push("/")}))}))},children:[Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{htmlFor:"username",children:"Username"}),Object(r.jsx)(cn,{name:"username",id:"username",value:a,maxLength:32,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{htmlFor:"password",children:"Password"}),Object(r.jsx)(cn,{type:"password",name:"password",id:"password",value:l,onChange:function(n){return f(n.target.value)}})]}),g&&Object(r.jsx)(un,{children:g}),Object(r.jsx)(on,{children:Object(r.jsx)(an,{children:"Log In"})})]})})};var Gn=function(){var n=Object(b.g)(),t=Object(c.useState)(""),e=Object(u.a)(t,2),o=e[0],a=e[1],i=Object(c.useState)(""),s=Object(u.a)(i,2),j=s[0],l=s[1];return Object(r.jsx)(vn,{title:o,setTitle:a,body:j,setBody:l,onPost:function(){o.trim()&&j.trim()&&function(n){var t=O();return fetch("".concat(p,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"content-type":x},body:JSON.stringify(n)}).then((function(n){return n.json()}))}({title:o,body:j}).then((function(t){t.id&&n.push("/posts/".concat(t.id))}))},submitButtonValue:"Post"})};function Kn(){var n=Object(s.a)(["\n  flex-grow: 1;\n"]);return Kn=function(){return n},n}var Qn=l.a.main(Kn());var Wn=function(){var n=Object(b.g)(),t=Object(c.useContext)(d).setUser,e=Object(c.useState)(""),o=Object(u.a)(e,2),a=o[0],i=o[1],s=Object(c.useState)(""),j=Object(u.a)(s,2),l=j[0],f=j[1],O=Object(c.useState)(""),m=Object(u.a)(O,2),g=m[0],v=m[1],w=Object(c.useState)(),k=Object(u.a)(w,2),S=k[0],C=k[1];return Object(r.jsx)(Qn,{children:Object(r.jsxs)(tn,{onSubmit:function(e){e.preventDefault(),C(null),function(n){var t=n.nickname,e=n.username,r=n.password;return fetch("".concat(p,"/register"),{method:"POST",headers:{"content-type":x},body:JSON.stringify({nickname:t,username:e,password:r})}).then((function(n){return n.json()}))}({nickname:a,username:l,password:g}).then((function(e){if(1!==e.ok)return C(e.message);h(e.token),y().then((function(e){if(1!==e.ok)return h(null),C(e.toString());t(e.data),n.push("/")}))}))},children:[Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{htmlFor:"nickname",children:"Nickname"}),Object(r.jsx)(cn,{name:"nickname",id:"nickname",value:a,maxLength:32,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{htmlFor:"username",children:"Username"}),Object(r.jsx)(cn,{name:"username",id:"username",value:l,maxLength:32,onChange:function(n){return f(n.target.value)}})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{htmlFor:"password",children:"Password"}),Object(r.jsx)(cn,{type:"password",name:"password",id:"password",value:g,onChange:function(n){return v(n.target.value)}})]}),S&&Object(r.jsx)(un,{children:S}),Object(r.jsx)(on,{children:Object(r.jsx)(an,{children:"Sign Up"})})]})})};function Yn(){return(Yn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function Zn(n,t){if(null==n)return{};var e,r,c=function(n,t){if(null==n)return{};var e,r,c={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(c[e]=n[e]);return c}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(c[e]=n[e])}return c}var $n=c.createElement("path",{d:"M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z",fillRule:"evenodd"});function nt(n,t){var e=n.title,r=n.titleId,o=Zn(n,["title","titleId"]);return c.createElement("svg",Yn({width:25,height:25,ref:t,"aria-labelledby":r},o),e?c.createElement("title",{id:r},e):null,$n)}var tt=c.forwardRef(nt);e.p;function et(){var n=Object(s.a)(["\n  border: none;\n  padding: 0.5rem 1.5rem;\n  width: 100%;\n  font-size: 1rem;\n  font-weight: 500;\n\n  &:focus,\n  &:hover {\n    background-color: #ECEFF4;\n    color: #2E3440;\n  }\n"]);return et=function(){return n},n}function rt(){var n=Object(s.a)([""]);return rt=function(){return n},n}function ct(){var n=Object(s.a)(["\n  padding: 0.5rem 0;\n"]);return ct=function(){return n},n}function ot(){var n=Object(s.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 0;\n  border: 1px solid #ECEFF4;\n  border-radius: 0.5rem;\n  background: #2E3440;\n  box-shadow: 0px 1px 0.5rem #2E3440;\n"]);return ot=function(){return n},n}function at(){var n=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);return at=function(){return n},n}function it(){var n=Object(s.a)(["\n  fill: #ECEFF4;\n"]);return it=function(){return n},n}function ut(){var n=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  border: none;\n  padding: 0.25rem;\n"]);return ut=function(){return n},n}function st(){var n=Object(s.a)(["\n  font-size: 1.125rem;\n  line-height: 2;\n"]);return st=function(){return n},n}function jt(){var n=Object(s.a)(["\n  font-size: 1rem;\n  color: rgba(171, 185, 207, 0.75);\n"]);return jt=function(){return n},n}function bt(){var n=Object(s.a)(["\n  margin-bottom: 1rem;\n  padding-right: 2rem;\n  color: #81A1C1;\n  font-size: 1.25rem;\n\n  a:hover {\n    text-decoration: underline;\n  }\n"]);return bt=function(){return n},n}function lt(){var n=Object(s.a)(["\n  position: relative;\n  margin-bottom: 2rem;\n"]);return lt=function(){return n},n}function dt(){var n=Object(s.a)(["\n  margin-bottom: 1.5rem;\n  font-size: 2.5rem;\n  line-height: 1.5;\n"]);return dt=function(){return n},n}function ft(){var n=Object(s.a)(["\n  height: 100%;\n  max-width: 50rem;\n  margin: 0 auto;\n"]);return ft=function(){return n},n}function ht(){var n=Object(s.a)(["\n  flex-grow: 1;\n  margin-bottom: 4rem;\n"]);return ht=function(){return n},n}var Ot=l.a.main(ht()),mt=l.a.article(ft()),pt=l.a.h1(dt()),xt=l.a.header(lt()),gt=l.a.h3(bt()),vt=l.a.time(jt()),wt=l.a.p(st()),yt=l.a.button(ut()),kt=Object(l.a)(tt)(it()),St=l.a.div(at()),Ct=l.a.div(ot()),Et=l.a.ul(ct()),zt=l.a.li(rt()),Dt=l.a.button(et());function Bt(n){var t=n.post,e=n.user,o=n.onDelete,a=Object(c.useState)(!1),i=Object(u.a)(a,2),s=i[0],b=i[1];return t?Object(r.jsxs)(mt,{children:[Object(r.jsx)(pt,{children:t.title}),Object(r.jsxs)(xt,{children:[Object(r.jsx)(gt,{children:Object(r.jsx)(j.b,{to:"/authors/".concat(t.userId),replace:!0,children:t.user.nickname})}),Object(r.jsx)(vt,{children:new Date(t.createdAt).toLocaleString()}),e&&e.id===t.user.id&&Object(r.jsx)(yt,{"aria-label":"More options",title:"More options",onClick:function(){b(!s)},children:Object(r.jsx)(kt,{})}),s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(St,{onClick:function(){b(!1)}}),Object(r.jsx)(Ct,{children:Object(r.jsxs)(Et,{children:[Object(r.jsx)(zt,{children:Object(r.jsx)(j.b,{to:"/posts/".concat(t.id,"/edit"),children:Object(r.jsx)(Dt,{children:"Edit"})})}),Object(r.jsx)(zt,{children:Object(r.jsx)(Dt,{onClick:o,children:"Delete"})})]})})]})]}),Object(r.jsx)(wt,{children:t.body})]}):null}var Ft=function(){var n=Object(b.g)(),t=Object(b.i)().id,e=Object(c.useContext)(d).user,o=Object(c.useState)(),a=Object(u.a)(o,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){w(t).then((function(n){return s(n)}))}),[t]),Object(r.jsx)(Ot,{children:Object(r.jsx)(Bt,{post:i,user:e,onDelete:function(){(function(n){return fetch("".concat(p,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(m),"content-type":x}}).then((function(n){return n.json()}))})(t).then((function(){n.push("/articles")}))}})})};function At(){var n=Object(s.a)(["\n  margin-bottom: 3.5rem;\n  color: #8FBCBB;\n  font-size: 2.5rem;\n  line-height: 1.5;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n"]);return At=function(){return n},n}var Pt=l.a.h1(At());var It=function(){var n=Object(b.i)().userId,t=Object(c.useState)([]),e=Object(u.a)(t,2),o=e[0],a=e[1],i=Object(c.useState)(),s=Object(u.a)(i,2),j=s[0],l=s[1];return Object(c.useEffect)((function(){(function(n){return fetch("".concat(p,"/users/").concat(n,"?_embed=posts")).then((function(n){return n.json()}))})(n).then((function(n){a(n.posts.sort((function(n,t){return t.createdAt-n.createdAt}))),l(n.nickname)}))}),[n]),Object(r.jsxs)(B,{children:[Object(r.jsx)(Pt,{children:j}),o.map((function(n){return Object(r.jsx)(Bn,{post:n,author:j},n.id)}))]})};function Tt(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 2rem;\n  height: 100%;\n"]);return Tt=function(){return n},n}var _t=l.a.div(Tt());var Ut=function(){var n=Object(c.useState)(null),t=Object(u.a)(n,2),e=t[0],o=t[1];return Object(c.useEffect)((function(){O()&&y().then((function(n){if(1!==n.ok)return h(null);o(n.data)}))}),[]),Object(r.jsx)(d.Provider,{value:{user:e,setUser:o},children:Object(r.jsx)(_t,{children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(R,{}),Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{exact:!0,path:"/",component:Rn}),Object(r.jsx)(b.b,{exact:!0,path:"/posts/:id",component:Ft}),Object(r.jsx)(b.b,{exact:!0,path:"/articles/:page",component:Mn}),Object(r.jsx)(b.b,{exact:!0,path:"/authors/:userId",component:It}),Object(r.jsx)(b.b,{exact:!0,path:"/new-post",component:Gn}),Object(r.jsx)(b.b,{exact:!0,path:"/posts/:id/edit",component:Vn}),Object(r.jsx)(b.b,{exact:!0,path:"/signup",component:Wn}),Object(r.jsx)(b.b,{exact:!0,path:"/login",component:qn}),Object(r.jsx)(b.b,{exact:!0,path:"/articles",children:Object(r.jsx)(b.a,{to:"/articles/1"})})]}),Object(r.jsx)(z,{})]})})})};e(35);i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Ut,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.e1d33154.chunk.js.map